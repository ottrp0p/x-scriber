# Technical Requirements Document

## Overview
The project focuses on job funnel analytics or job CRM for potential job seekers, providing an aliased email for all job applications. The system manages the domain to store job-related emails, especially responses from ATS systems. It analyzes emails to track job application progress, utilizing an LLM-powered service. Additionally, it caters to career directors in university settings, offering an administrative layer for user data aggregation and statistics viewing. The system architecture includes components like an Aliased Email System, Routing Rules Control, Email Monitoring and Storage, LLM-Powered Service, and a Career Directors Administrative Layer.
**Key Components and Processes:**
- **Aliased Email System:**
- Provides an aliased email for job applications.
- **Routing Rules Control:**
- Manages routing rules for the aliased email.
- **Email Monitoring and Storage:**
- Utilizes S3 to capture job application emails.
- **LLM-Powered Service:**
- Analyzes emails for job instance relevance and status changes.
- **Career Directors Administrative Layer:**
- Aggregates user data and provides statistical insights.
**New Requirements and Features:**
- An aliasing system will be implemented for the LLM service.
- Initial testing involves pulling emails from Workspace Gmail accounts using the Gmail API.
- LLM logic will identify new threads, applications, and updates on existing applications.
- MongoDB will store user information and track job application statuses.
- Frontend authentication will likely use Google Auth.
- A billing section with Stripe integration will handle subscriptions.
- Email verification will be implemented for user and university email validation.
- The LLM service will determine the appropriate Amazon services for efficient data processing.
**Technical Specifications:**
- The LLM service output will include thread ID, timestamp, status code, and a truncated message for each job application.
- Integration with Gmail API and MongoDB for data handling and analysis.
- Stripe integration for billing and subscription management.
- Google Auth for user authentication.
- Email verification for organizational affiliation validation.
**Dependencies:**
- FastAPI, Next.js, AWS services, Gmail API, LLM service, MongoDB, Google Auth, Stripe integration.
- Proper data handling mechanisms ensure accurate job application tracking and analytics display.
- Testing will verify LLM's ability to identify job application stages accurately.
- Defining the interface contract between LLM and MongoDB is crucial for seamless integration.
**Acceptance Criteria:**
- Provide aliased email for job applications.
- Control routing rules and intercept emails for storage.
- Analyze emails for job application progress.
- Define LLM-MongoDB interface for data flow.
- Update analytics layer with MongoDB for user and job application tracking.
- Implement backend in FastAPI, frontend in Next.js.
- Authenticate users with Google Auth.
- Test functionality before aliasing feature implementation.
- Develop adapter for Gmail API data retrieval.
- Deploy LLM logic for efficient email analysis.
- Include profile, billing, and dashboard pages for user interaction.
**Constraints:**
- Proper data handling mechanisms are crucial for accurate job application tracking.
- Integration with Gmail API is necessary for testing LLM functionality.
- Define the interface contract between LLM and MongoDB for data flow clarity.
- Stripe integration for billing and subscription management.
- Google Auth and email verification for user authentication.
- LLM guidance on Amazon services for enhanced system functionality.

## Requirements
- The system must provide an aliased email that forwards to the user's normal email address, to be used for all job applications by the users.
- It should have the capability to control the routing rules for the aliased email on the organization's domain.
- The system must manage the domain to store a copy of every job application email and allow monitoring of emails in transit, possibly utilizing an S3 service.
- The system needs to identify emails that are responses from Applicant Tracking Systems (ATS) used in job applications, including confirmation emails, and save all emails for analysis by an LLM-powered service.
- The LLM-powered service should determine the job instance the email belongs to and assess the current status of the job application, distinguishing between progression to the next round or rejection.
- An administrative layer is required for career directors in a university setting to aggregate users' data for statistical analysis, providing both group and individual insights.
- Career directors will need a separate user account for accessing this administrative layer.
- The system backend will be developed using FastAPI in Python, while AWS will be utilized to manage domains and sniff emails.
- The frontend will be built using Next.js with TypeScript and JavaScript.
- Initial steps will focus on testing the system's functionality before implementing the aliasing feature.
- An aliasing system will eventually be implemented to pull proper emails for the LLM service, initially using an adapter to pull emails from existing Workspace Gmail accounts using the Gmail API.
- The designated Workspace Gmail account will be used for job applications to generate testing data.
- LLM logic will be developed to determine new threads, new applications, and updates on existing applications, deployed as a service for effective email analysis.
- The system will incorporate a MongoDB collection or set of collections in the analytics layer to store user information and track the status of individual job application threads.
- Proper data handling mechanisms need to be implemented to ensure accurate tracking and display of job application statuses and analytics.
- The system architecture involves components like the Aliased Email System, Routing Rules Control, Email Monitoring and Storage, LLM-Powered Service, and Career Directors Administrative Layer.
- The LLM service should report back information related to the thread ID, updated timestamp, status code, and potentially a truncated message for each job application and user.
- Integration with Gmail API for designated test accounts is crucial for testing LLM functionality accurately.
- Define the interface contract between the LLM service and the MongoDB instance for expected outcomes and data flow clarity.
- Stripe will handle the subscription and billing section, with a separate database instance managing accounts verified for a university B2B account, granting subscription rights without requiring a Stripe subscription.
- OAuth through Google will be the primary authentication method, with a separate email verification system for university emails to determine eligibility for subscription rights.
- The system will aim to enhance functionality by following guidance from the LLM service on appropriate Amazon services to utilize.
- The interface out of the LLM should include information on the thread ID, updated timestamp, status code, and potentially a truncated message for each job application and user.
- The system will have a profile page guiding users on setting up an alias email and a billing page activating after exceeding 50 tracked job applications, integrating Stripe for subscriptions.
- Specific override functions for Stripe for university users and email verification systems for organizational affiliation will be implemented.
- The system will focus on testing the LLM's ability to identify single-thread job applications and determine stages based on received emails effectively.

## Technical Specifications
- The LLM service should report back information related to the thread ID for each job application. This thread ID should be internally determined and stored in MongoDB to uniquely identify each job application for every user. It should include an updated timestamp and the new status code associated with the job application, and optionally, a truncated version of the message associated with the job application can be stored in the MongoDB database for reference.
- The interface out of the LLM should report back information related to the thread ID for every job application and user. The thread ID should include an updated timestamp, the new status code, and potentially a truncated version of the message to be stored in MongoDB for each job application.
- Proper data handling mechanisms need to be implemented to ensure accurate tracking and display of job application statuses and analytics across different sections of the system.
- Define the interface contract for the expected output from the LLM service to the MongoDB instance to ensure proper data handling and analysis. This step will clarify the expected outcomes and data flow between the two components.
- The LLM service should decide the proper Amazon service for domain logic routing and data sniffing, and whether to store the data in S3 or directly in MongoDB.
- The LLM should provide guidance on the appropriate Amazon services to utilize, enhancing the functionality and efficiency of the system.
- The LLM should determine the appropriate Amazon services for domain logic routing and data sniffing, potentially utilizing S3 or MongoDB for data storage.
- The LLM should report back information related to the thread ID, including an updated timestamp, status code, and potentially a truncated message for every job application and user. This information should be internally determined and stored in MongoDB to understand the thread ID for each job application.
- The LLM should define the interface contract between the LLM service and the MongoDB instance to clarify the expected outcomes and data flow between the two components. This is crucial for seamless integration and proper data handling.
- For billing purposes, Stripe will handle the subscription and billing section. A separate database instance will be set up to manage accounts verified for a university B2B account, granting subscription rights without requiring a Stripe subscription.
- The authentication process will primarily involve OAuth through Google. Additionally, a separate email verification system will be implemented for university emails to determine eligibility for a university B2B bundle subscription without requiring a Stripe subscription.

## Architecture
The system architecture for the job funnel analytics or job CRM involves various components and processes:
- **Aliased Email System**:
- Provides an aliased email that forwards to the user's normal email address for all job applications.
- **Routing Rules Control**:
- Controls routing rules for the aliased email on the organization's domain.
- Manages the domain to enable monitoring and interception of emails in transit.
- **Email Monitoring and Storage**:
- Utilizes an S3 service to capture emails in transit, specifically responses from Applicant Tracking Systems (ATS).
- **LLM-Powered Service**:
- Reads and analyzes emails to determine job instance relevance and status changes in job application threads.
- Integrates with Gmail API for testing LLM functionality.
- Defines the interface contract for the expected output to the MongoDB instance.
- **Career Directors Administrative Layer**:
- Provides an administrative layer for career directors in university settings.
- **Technology Stack**:
- Backend developed using FastAPI in Python.
- AWS services utilized for domain management and email sniffing.
- Frontend developed using Next.js with TypeScript and JavaScript.
- **Email Data Adapter**:
- Initially used to pull emails from designated Workspace Gmail accounts for testing data.
- **Analytics Layer**:
- Utilizes MongoDB to store user information and track individual threads in job application progress.
- **Dashboard Features**:
- Includes multiple filters for displaying various job application statuses and statistics on the job funnel.
- Plans for Stripe integration on the billing section for managing subscriptions.
- Specific override function for Stripe for university users.
- Email verification system for organizational affiliation.
- **Billing Integration**:
- Runs through Stripe for subscription and billing.
- **Interface Out of LLM**:
- Reports back information related to thread ID, updated timestamp, status code, and potentially a truncated message for each job application and user.
- **Dependencies**:
- FastAPI, Next.js, AWS services, Gmail API, LLM-powered service, MongoDB, Google Auth, Stripe integration, and email verification system.
The architecture ensures seamless integration, defines interface contracts, and leverages various technologies to enhance functionality and efficiency.

## Constraints
- Proper data handling mechanisms must be implemented to ensure accurate tracking and display of job application statuses and analytics across different sections of the system.
- An integration to Gmail API is required for designated test accounts to pull emails for testing LLM functionality accurately.
- Testing will focus on verifying the LLM's ability to identify single-thread job applications and correctly determine stages based on received emails.
- The system must define the interface contract between the LLM service and the MongoDB instance to ensure proper data handling and analysis.
- Seamless integration requires defining the interface contract between the LLM service and the MongoDB instance, clarifying expected outcomes and data flow.
- Billing section will be handled by Stripe, with a separate database instance managing accounts verified for a university B2B account, granting subscription rights without requiring a Stripe subscription.
- The authentication process will primarily involve OAuth through Google, with a separate email verification system for Google and university emails to determine eligibility for a university B2B bundle subscription.
- The LLM should provide guidance on appropriate Amazon services for domain logic routing and data sniffing, potentially storing data in S3 or directly in MongoDB.
- The LLM service should report back information related to thread ID, including an updated timestamp, status code, and potentially a truncated message for every job application and user, internally determined and stored in MongoDB.
- The system will have an alias email for job seekers, focusing on quick start integration to Gmail API for designated test accounts.
- Control routing rules for the aliased email on the company's domain, possibly utilizing AWS services.
- Implement a method to intercept emails in transit, possibly utilizing an S3 service.
- Manage the domain to store a copy of every job application email, potentially using AWS for domain management.
- Identify and save responses from Applicant Tracking Systems (ATS) as confirmation of job applications, including responses indicating progression to the next round or rejection.
- The backend will be implemented using FastAPI in Python, with the frontend developed using Next.js with TypeScript and JavaScript.
- Verification of system functionality before proceeding with the aliasing feature is crucial.
- Develop an adapter to pull emails from designated Workspace Gmail accounts using the Gmail API for testing data, ensuring correct identification of job application stages based on received emails.
- The LLM logic should determine new applications, application updates, and thread identification within the pulled Gmail data, deployed as a service to process emails efficiently.
- Create a profile page guiding users on setting up an alias email and necessary steps to get started.
- Include a billing page activating when the user exceeds 50 tracked job applications, integrating Stripe for handling subscriptions.
- Implement a specific override function for Stripe for users under university purview, allowing for bulk exceptions if applicable.
- Set up an email verification system requiring verification of both the auth email and university email for organizational membership validation.
- Dependencies include FastAPI, Next.js, AWS services, Gmail API, LLM-powered service, MongoDB, Google Auth, Stripe integration, and email verification system.
- Dashboard filters for data visualization and statistics display will be implemented.
To be defined

## Assumptions
- The system will integrate with Gmail using the Gmail API for designated test accounts to pull emails for testing purposes.
- The primary focus of testing will be on the LLM's ability to identify single job threads or multiple emails belonging to the same job application thread accurately. It will also be tested on correctly identifying the stages of job applications based on received emails.
- An interface contract will be defined between the LLM service and the MongoDB instance to ensure clarity in expected outcomes and data flow.
- Billing section integration will be handled by Stripe, specifically for the billing page.
- OAuth authentication will be implemented through Google.
- Separate email verification will be necessary for university emails to determine eligibility for subscription rights without a Stripe subscription.
- The LLM will suggest appropriate Amazon services for domain logic routing and data sniffing, potentially utilizing S3 or MongoDB for data storage.
- The LLM may directly inject data through the chosen Amazon service for domain logic routing and data sniffing.
- A separate database instance will be established to manage verified university B2B accounts, granting subscription rights without requiring a Stripe subscription.
- The LLM service will report back information related to thread ID, including an updated timestamp, status code, and potentially a truncated message for each job application and user, to be stored in MongoDB.
- Stripe will handle the subscription and billing section for the system.
- The authentication process will primarily involve OAuth through Google.
- A separate email verification system will be implemented for university emails to determine eligibility for a university B2B bundle subscription without requiring a Stripe subscription.
- If the LLM service can provide guidance on the appropriate Amazon services to utilize, it will enhance system functionality and efficiency.
- Defining the interface contract between the LLM service and the MongoDB instance is crucial for seamless integration, ensuring expected outcomes and data flow clarity.
- The LLM service should provide information on thread ID, updated timestamp, status code, and potentially a truncated message for each job application and user, to be stored in MongoDB.
- The system will utilize FastAPI for the backend, Next.js with TypeScript and JavaScript for the frontend, AWS services for domain management and email sniffing, Gmail API for testing LLM functionality, and MongoDB for storing analytics data.
- An alias email system will be implemented for job seekers, forwarding to their normal email and integrated with the Gmail API for designated test accounts.
- A billing page will activate when users exceed 50 tracked job applications, utilizing Stripe for handling subscriptions.
- A specific override function for Stripe will be developed for users under university purview.
- An email verification system will be set up for both user and university emails for organizational membership validation.
- Dashboard filters will be implemented for data visualization and statistics display.
To be defined

## Acceptance Criteria
- **Aliased Email Functionality:**
- Provide an aliased email for job seekers that forwards to their normal email.
- The aliased email must be used in all job applications.
- Implement a method to intercept emails in transit, possibly utilizing an S3 service.
- Control routing rules for the aliased email on the company's domain, possibly utilizing AWS services.
- Manage the domain to store a copy of every job application email, potentially using AWS for domain management.
- **Email Processing and Analysis:**
- Develop an adapter to pull emails from designated Workspace Gmail accounts using the Gmail API for testing data.
- Write LLM logic to determine new applications, application updates, and thread identification within the pulled Gmail data.
- Deploy the LLM logic as a service to process emails efficiently.
- Utilize an LLM-powered service to analyze emails, associate them with the correct job instance, and update the status of job applications accordingly.
- Define the interface contract for the expected output from the LLM service to the MongoDB instance, including reporting back thread ID, updated timestamp, status code, and potentially a truncated message for each job application.
- **Database and Analytics:**
- Update the analytics layer by instantiating MongoDB collections for user information and tracking individual thread statuses in job applications.
- Ensure seamless integration by defining the interface contract between the LLM service and the MongoDB instance.
- **Backend and Frontend Development:**
- Implement the backend using FastAPI in Python.
- Develop the frontend using Next.js with TypeScript and JavaScript.
- Design authentication around Google Auth for the frontend.
- **User Interface and Functionality:**
- Create a profile page with a guide on setting up an alias email and other necessary steps to get started.
- Include a billing page that activates when the user exceeds 50 tracked job applications, providing necessary information for billing purposes.
- Integrate Stripe for handling subscriptions, especially for billing purposes.
- Implement a specific override function for Stripe for users under university purview, allowing for bulk exceptions if applicable.
- Set up an email verification system requiring verification of both the auth email and university email for organizational membership validation.
- Develop dashboard filters for data visualization and statistics display.
- **Billing Integration:**
- Stripe will handle the subscription and billing section.
- Set up a separate database instance to manage accounts verified for a university B2B account, granting subscription rights without requiring a Stripe subscription.
- **Authentication and Verification:**
- Implement OAuth through Google for authentication.
- Implement an email verification system for verifying user and university emails.
- Allow users associated with universities to have subscription rights without the need for a Stripe subscription.
- **Enhancements and Recommendations:**
- If the LLM service can provide guidance on the appropriate Amazon services to utilize, it will further enhance the functionality and efficiency of the system.

## Dependencies
**Dependencies**
- **Backend Framework:**
- FastAPI framework for the backend written in Python
- **Frontend Framework:**
- Next.js for the frontend with TypeScript and JavaScript
- **Database Management:**
- MongoDB for storing analytics data, including user information, thread statuses, and job application details
- **Authentication:**
- Google Auth for designing authentication in the frontend
- OAuth through Google for the authentication process
- **Email Integration:**
- Gmail API for pulling emails from designated Workspace Gmail accounts for testing LLM functionality
- Alias email setup for user profiles
- **Billing and Subscription Management:**
- Stripe integration for handling subscriptions and billing
- Separate database instance for managing accounts verified for a university B2B account, granting subscription rights without requiring a Stripe subscription
- **Email Verification System:**
- Email verification system for verifying user and university emails
- **AWS Services:**
- Utilized for managing domains and email sniffing
- **Interface Contract:**
- Defining the interface contract between the LLM service and the MongoDB instance is crucial for seamless integration
- LLM service should report back regarding the thread ID, updated timestamp, status code, and potentially a truncated message for each job application and user
- **Dashboard Features:**
- Dashboard filters for data visualization and statistics display
- Dashboard with multiple filters to show application statuses, success rates, and other relevant statistics
- **Amazon Services:**
- Amazon services for domain logic routing and data sniffing, potentially storing data in S3 or directly into MongoDB
By integrating these dependencies effectively, the system will be able to handle email analysis, user authentication, billing, database management, and dashboard visualization efficiently.

---
*Generated by X-Scriber on 2025-09-16 09:40:28*
